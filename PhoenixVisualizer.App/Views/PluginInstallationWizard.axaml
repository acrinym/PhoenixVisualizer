<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="PhoenixVisualizer.Views.PluginInstallationWizard"
        Title="Plugin Installation Wizard"
        Width="700" Height="600"
        WindowStartupLocation="CenterOwner">
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,20">
            <TextBlock Text="Plugin Installation Wizard" 
                       FontSize="24" FontWeight="Bold" 
                       HorizontalAlignment="Center" Margin="0,0,0,10"/>
            <TextBlock Text="Install and configure Winamp visualizer plugins" 
                       FontSize="14" Foreground="Gray" 
                       HorizontalAlignment="Center"/>
        </StackPanel>
        
        <!-- Main Content -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="250"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            
            <!-- Left Panel - Plugin Types -->
            <StackPanel Grid.Column="0" Margin="0,0,20,0">
                <TextBlock Text="Plugin Types" FontWeight="Bold" Margin="0,0,0,10"/>
                
                <ListBox x:Name="PluginTypeList" SelectionChanged="OnPluginTypeChanged">
                    <ListBoxItem Content="Winamp Visualizers (.dll)" Tag="winamp"/>
                    <ListBoxItem Content="APE Effects (.ape)" Tag="ape"/>
                    <ListBoxItem Content="AVS Presets (.avs)" Tag="avs"/>
                    <ListBoxItem Content="MilkDrop Presets (.milk)" Tag="milkdrop"/>
                </ListBox>
                
                <TextBlock Text="Quick Actions" FontWeight="Bold" Margin="0,20,0,10"/>
                <Button Content="Scan for Plugins" Click="OnScanForPlugins" Margin="0,5"/>
                <Button Content="Browse Plugin File" Click="OnBrowsePluginFile" Margin="0,5"/>
                <Button Content="Install Plugin" Click="OnInstallPlugin" Margin="0,5"/>
            </StackPanel>
            
            <!-- Right Panel - Details and Installation -->
            <StackPanel Grid.Column="1">
                <TextBlock Text="Installation Details" FontWeight="Bold" Margin="0,0,0,10"/>
                
                <!-- Plugin Info -->
                <Border BorderBrush="LightGray" BorderThickness="1" Padding="15" Margin="0,0,0,15">
                    <StackPanel>
                        <TextBlock Text="Selected Plugin Type:" FontWeight="SemiBold"/>
                        <TextBlock x:Name="SelectedTypeText" Text="None" Margin="0,5,0,15"/>
                        
                        <TextBlock Text="Installation Directory:" FontWeight="SemiBold"/>
                        <TextBlock x:Name="InstallDirText" Text="plugins/" Margin="0,5,0,15"/>
                        
                        <TextBlock Text="Requirements:" FontWeight="SemiBold"/>
                        <TextBlock x:Name="RequirementsText" Text="None" Margin="0,5,0,15"/>
                    </StackPanel>
                </Border>
                
                <!-- Installation Steps -->
                <TextBlock Text="Installation Steps:" FontWeight="Bold" Margin="0,0,0,10"/>
                <ListBox x:Name="InstallStepsList" Height="150">
                    <ListBoxItem Content="1. Select plugin type from the left panel"/>
                    <ListBoxItem Content="2. Choose installation method"/>
                    <ListBoxItem Content="3. Follow the wizard steps"/>
                    <ListBoxItem Content="4. Configure plugin settings"/>
                    <ListBoxItem Content="5. Test the plugin"/>
                </ListBox>
                
                <!-- Status -->
                <Border BorderBrush="LightBlue" BorderThickness="1" Background="LightBlue" Padding="10" Margin="0,15,0,0">
                    <TextBlock x:Name="StatusText" Text="Ready to install plugins" FontWeight="SemiBold"/>
                </Border>
            </StackPanel>
        </Grid>
        
        <!-- Footer Buttons -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
            <Button Content="Close" Click="OnClose" Margin="0,0,10,0"/>
            <Button Content="Install Plugin" x:Name="InstallButton" Click="OnInstallPlugin" 
                    IsEnabled="False" Background="Green" Foreground="White"/>
        </StackPanel>
    </Grid>
</Window>
