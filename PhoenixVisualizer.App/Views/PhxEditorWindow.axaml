<Window x:Class="PhoenixVisualizer.Views.PhxEditorWindow"
        xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:views="using:PhoenixVisualizer.App.Views"
        xmlns:local="using:PhoenixVisualizer.Views"
        xmlns:vm="using:PhoenixVisualizer.App.ViewModels"
        mc:Ignorable="d"
        d:DesignWidth="1400"
        d:DesignHeight="900"
        x:Name="PhxEditor"
        Title="PHX Editor - Advanced Visual Effects Composer"
        Width="1400"
        Height="900"
        Icon="/Assets/avalonia-logo.ico"
        x:DataType="vm:PhxEditorViewModel">



    <Window.Resources>
        <SolidColorBrush x:Key="EditorBackground" Color="#1e1e1e"/>
        <SolidColorBrush x:Key="PanelBackground" Color="#2d2d30"/>
        <SolidColorBrush x:Key="BorderColor" Color="#3e3e42"/>
        <SolidColorBrush x:Key="TextColor" Color="#f1f1f1"/>
        <SolidColorBrush x:Key="AccentColor" Color="#007acc"/>
    </Window.Resources>

    <!-- Split main area: preview on the left, parameter panel on the right -->
    <Grid RowDefinitions="Auto,*" ColumnDefinitions="*,360">
        <!-- Top toolbar -->
        <DockPanel Grid.Row="0" LastChildFill="True" Background="#1a1a22" Height="40">
            <StackPanel Orientation="Horizontal" DockPanel.Dock="Left" Spacing="8" Margin="10,0">
                <Button x:Name="BtnImport" Content="Import" Width="90" Command="{Binding ImportAvsCommand}"/>
                <Button x:Name="BtnExport" Content="Export" Width="90" Command="{Binding ExportAvsCommand}"/>
                <Separator Width="8"/>
                <Button x:Name="BtnCompile" Content="Compile" Width="90" Command="{Binding CompileCommand}" IsEnabled="{Binding IsCompileEnabled}"/>
                <Button x:Name="BtnTest" Content="Test" Width="90" Command="{Binding TestCodeCommand}" IsEnabled="{Binding IsCompileEnabled}"/>
                <Separator Width="8"/>
                <Button x:Name="BtnSettings" Content="Settings" Width="110" />
                <Separator Width="8"/>
                <Button x:Name="BtnUndockPreview" Content="Undock Preview" Width="140" />
            </StackPanel>
            <TextBlock VerticalAlignment="Center" Margin="12,0"
                       Text="{Binding StatusText}" Foreground="#b0b0b0"/>
        </DockPanel>

        <!-- Left: Preview surface -->
        <Border Grid.Row="1" Grid.Column="0" Margin="10" Background="#0c0c11"
                CornerRadius="6" BorderBrush="#22252d" BorderThickness="1">
            <Canvas x:Name="PreviewCanvas"/>
        </Border>

        <!-- Right: Parameter panel host (live, no extra wiring needed) -->
        <Border Grid.Row="1" Grid.Column="1" Margin="0,10,10,10" Background="#13151d"
                CornerRadius="6" BorderBrush="#22252d" BorderThickness="1">
            <ContentControl x:Name="ParamPanelHost"/>
        </Border>
    </Grid>

    <!-- Logs will be added in a future update -->
</Window>